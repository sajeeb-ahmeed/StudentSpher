<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Design & JS Final Exam</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container my-5">
  <h2 class="text-center mb-4">Web Design & JavaScript Final Exam</h2>
  
  <form id="examForm">

    <!-- MCQs -->
    <h4>Part 1: MCQs (30 Marks)</h4>
    <div class="mb-4">
      <p>1. Which tag is used for navigation in HTML5?</p>
      <div><input type="radio" name="q1" value="<nav>"> &lt;nav&gt;</div>
      <div><input type="radio" name="q1" value="<navigation>"> &lt;navigation&gt;</div>
      <div><input type="radio" name="q1" value="<menu>"> &lt;menu&gt;</div>
    </div>

    <div class="mb-4">
      <p>2. Box model components are?</p>
      <div><input type="radio" name="q2" value="border, padding, content"> Border, Padding, Content</div>
      <div><input type="radio" name="q2" value="margin, padding, border"> Margin, Padding, Border</div>
      <div><input type="radio" name="q2" value="width, height, padding"> Width, Height, Padding</div>
    </div>

    <div class="mb-4">
      <p>3. Centering a block element horizontally in CSS?</p>
      <div><input type="radio" name="q3" value="margin: 0 auto;"> margin: 0 auto;</div>
      <div><input type="radio" name="q3" value="text-align: center;"> text-align: center;</div>
      <div><input type="radio" name="q3" value="align-items: center;"> align-items: center;</div>
    </div>

        <div class="question">
            <label>5. Which tag is used to include JavaScript file?</label><br>
            <input type="radio" name="q5" value="<js src='...'>"> &lt;js src='...'&gt;<br>
            <input type="radio" name="q5" value="<javascript>"> &lt;javascript&gt;<br>
            <input type="radio" name="q5" value="<link rel='script'>"> &lt;link rel='script'&gt;<br>
            <input type="radio" name="q5" value="<script src='...'>"> &lt;script src='...'&gt;<br>
        </div>

        <div class="question">
            <label>6. Which CSS selector selects elements with class 'btn'?</label><br>
            <input type="radio" name="q6" value="#btn"> #btn<br>
            <input type="radio" name="q6" value="btn"> btn<br>
            <input type="radio" name="q6" value="*btn"> *btn<br>
            <input type="radio" name="q6" value=".btn"> .btn<br>
        </div>

        <div class="question">
            <label>7. Which HTTP method is typically used to submit form data?</label><br>
            <input type="radio" name="q7" value="GET"> GET<br>
            <input type="radio" name="q7" value="DELETE"> DELETE<br>
            <input type="radio" name="q7" value="PUT"> PUT<br>
            <input type="radio" name="q7" value="POST"> POST<br>
        </div>

        <div class="question">
            <label>8. What does '===' do in JavaScript?</label><br>
            <input type="radio" name="q8" value="Assigns value"> Assigns value<br>
            <input type="radio" name="q8" value="Loose equality"> Loose equality<br>
            <input type="radio" name="q8" value="Not equal"> Not equal<br>
            <input type="radio" name="q8" value="Strict equality (type+value)"> Strict equality (type+value)<br>
        </div>

        <div class="question">
            <label>9. Which event fires when a form is submitted?</label><br>
            <input type="radio" name="q9" value="click"> click<br>
            <input type="radio" name="q9" value="change"> change<br>
            <input type="radio" name="q9" value="input"> input<br>
            <input type="radio" name="q9" value="submit"> submit<br>
        </div>

        <div class="question">
            <label>10. Which Bootstrap class creates a responsive image?</label><br>
            <input type="radio" name="q10" value="responsive-img"> responsive-img<br>
            <input type="radio" name="q10" value="img-responsive"> img-responsive<br>
            <input type="radio" name="q10" value="img-scale"> img-scale<br>
            <input type="radio" name="q10" value="img-fluid"> img-fluid<br>
        </div>

        <div class="question">
            <label>11. How do you declare a JavaScript function?</label><br>
            <input type="radio" name="q11" value="def myFunc() {}"> def myFunc() {}<br>
            <input type="radio" name="q11" value="fn myFunc() {}"> fn myFunc() {}<br>
            <input type="radio" name="q11" value="func myFunc() {}"> func myFunc() {}<br>
            <input type="radio" name="q11" value="function myFunc() {}"> function myFunc() {}<br>
        </div>

        <div class="question">
            <label>12. Which CSS property changes text color?</label><br>
            <input type="radio" name="q12" value="text-color"> text-color<br>
            <input type="radio" name="q12" value="font-color"> font-color<br>
            <input type="radio" name="q12" value="fgcolor"> fgcolor<br>
            <input type="radio" name="q12" value="color"> color<br>
        </div>

        <div class="question">
            <label>13. Which HTML attribute specifies an input's placeholder?</label><br>
            <input type="radio" name="q13" value="hint"> hint<br>
            <input type="radio" name="q13" value="title"> title<br>
            <input type="radio" name="q13" value="alt"> alt<br>
            <input type="radio" name="q13" value="placeholder"> placeholder<br>
        </div>

        <div class="question">
            <label>14. Which JavaScript method logs to console?</label><br>
            <input type="radio" name="q14" value="print()"> print()<br>
            <input type="radio" name="q14" value="echo()"> echo()<br>
            <input type="radio" name="q14" value="log()"> log()<br>
            <input type="radio" name="q14" value="console.log()"> console.log()<br>
        </div>

        <div class="question">
            <label>15. In CSS, how do you select an element with id 'main'?</label><br>
            <input type="radio" name="q15" value=".main"> .main<br>
            <input type="radio" name="q15" value="main"> main<br>
            <input type="radio" name="q15" value="*main"> *main<br>
            <input type="radio" name="q15" value="#main"> #main<br>
        </div>

        <!-- Short Questions -->
    <h4>Part 2: Short Questions (20 Marks)</h4>
    <div class="mb-3">
      <label for="short1" class="form-label">1. Explain the difference between inline and block elements.</label>
      <textarea id="short1" class="form-control" rows="2"></textarea>
    </div>
    <div class="mb-3">
      <label for="short2" class="form-label">2. What is the purpose of the CSS z-index property?</label>
      <textarea id="short2" class="form-control" rows="2"></textarea>
    </div>
    <div class="mb-3">
      <label for="short3" class="form-label">3. Describe the difference between var, let, and const in JS.</label>
      <textarea id="short3" class="form-control" rows="2"></textarea>
    </div>
    <div class="mb-3">
      <label for="short4" class="form-label">4. What are semantic HTML tags? Give examples.</label>
      <textarea id="short4" class="form-control" rows="2"></textarea>
    </div>
    <div class="mb-3">
      <label for="short5" class="form-label">5. Explain event bubbling in JavaScript.</label>
      <textarea id="short5" class="form-control" rows="2"></textarea>
    </div>

    <!-- Coding Problems -->
    <h4>Part 3: Coding Problems (30 Marks)</h4>
    <div class="mb-3">
      <label for="coding1" class="form-label">1. Write a function to reverse a string in JS.</label>
      <textarea id="coding1" class="form-control" rows="3"></textarea>
    </div>
    <div class="mb-3">
      <label for="coding2" class="form-label">2. Create a responsive navbar using Bootstrap 5.</label>
      <textarea id="coding2" class="form-control" rows="3"></textarea>
    </div>
    <div class="mb-3">
      <label for="coding3" class="form-label">3. Write JS code to validate a form input for email.</label>
      <textarea id="coding3" class="form-control" rows="3"></textarea>
    </div>
    <div class="mb-3">
      <label for="coding4" class="form-label">4. Make a table dynamically in JS from an array of objects.</label>
      <textarea id="coding4" class="form-control" rows="3"></textarea>
    </div>
    <div class="mb-3">
      <label for="coding5" class="form-label">5. Write CSS to create a card with hover shadow effect.</label>
      <textarea id="coding5" class="form-control" rows="3"></textarea>
    </div>

    <!-- Mini Project -->
    <h4>Part 4: Mini Project (20 Marks)</h4>
    <div class="mb-3">
      <label for="miniProjectLink" class="form-label">Provide link to your mini project (GitHub/Drive):</label>
      <input type="url" id="miniProjectLink" class="form-control">
    </div>

    <button type="submit" class="btn btn-primary">Submit Exam</button>

  </form>
</div>

<script>
const examForm = document.getElementById('examForm');

examForm.addEventListener('submit', async (e) => {
  e.preventDefault();

  const answers = {};

  // MCQs (replace 15 with total number of MCQs)
  for (let i = 1; i <= 15; i++) {
    const el = document.querySelector(`input[name="q${i}"]:checked`);
    answers[`q${i}`] = el ? el.value : null;
  }

  // Short questions
  for (let i = 1; i <= 5; i++) {
    answers[`short${i}`] = document.getElementById(`short${i}`).value;
  }

  // Coding problems
  for (let i = 1; i <= 5; i++) {
    answers[`coding${i}`] = document.getElementById(`coding${i}`).value;
  }

  // Mini project link
  answers.miniProjectLink = document.getElementById('miniProjectLink').value;

  try {
    const res = await fetch('/api/submit-final-exam', {
      method: 'POST',
      credentials: 'include', // important for session
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ answers })
    });

    const data = await res.json();

    if (res.ok) {
      alert(`Exam submitted successfully! MCQ score: ${data.mcqScore}`);
      examForm.reset();
    } else {
      alert(`Error: ${data.error}`);
    }
  } catch (err) {
    console.error('Submission error:', err);
    alert('Something went wrong. Try again.');
  }
});
</script>
</body>

</html>

